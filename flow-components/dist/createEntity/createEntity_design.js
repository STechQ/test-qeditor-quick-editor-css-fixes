/*! For license information please see createEntity_design.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("@stitches/react")):"function"==typeof define&&define.amd?define(["react","@stitches/react"],t):"object"==typeof exports?exports.flowcomponent=t(require("react"),require("@stitches/react")):e.flowcomponent=t(e.react,e["@stitches/react"])}(this,((e,t)=>(()=>{"use strict";var o={1837:(e,t,o)=>{var r=o(8156),n=Symbol.for("react.element"),s=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,o){var r,c={},l=null,p=null;for(r in void 0!==o&&(l=""+o),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(p=t.ref),t)s.call(t,r)&&!a.hasOwnProperty(r)&&(c[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===c[r]&&(c[r]=t[r]);return{$$typeof:n,type:e,key:l,ref:p,props:c,_owner:i.current}}t.jsx=c,t.jsxs=c},2094:(e,t,o)=>{e.exports=o(1837)},3149:e=>{e.exports=t},8156:t=>{t.exports=e}},r={};function n(e){var t=r[e];if(void 0!==t)return t.exports;var s=r[e]={exports:{}};return o[e](s,s.exports,n),s.exports}n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var s={};return(()=>{n.r(s),n.d(s,{default:()=>c});var e=n(2094),t=n(8156),o=n(3149);const r=o=>{const{NameDiv:r,DescDiv:n}=o.options.react.prop,s=o.options.callbacks.entity,[i,a]=(0,t.useState)([]);return(0,t.useEffect)((()=>((async()=>{const e=await s.getList();a(e)})(),()=>{})),[]),(0,e.jsxs)("div",{children:[(0,e.jsx)(r,{children:"Entity"}),(0,e.jsx)(n,{children:"Entity to create"}),(0,e.jsxs)("select",{value:o.value,onChange:e=>o.onChange(e.target.value),children:[!o.value&&(0,e.jsx)("option",{children:"select entity"}),i.map((t=>(0,e.jsx)("option",{value:t,children:t},t)))]})]})},i=o=>{const{NameDiv:r,DescDiv:n}=o.options.react.prop,{ExpressionComp:s}=o.options.react,[i,c]=(0,t.useState)(o.options.propValues[o.matchField]);return(0,e.jsxs)("div",{children:[(0,e.jsx)(r,{children:o.name}),(0,e.jsx)(n,{children:o.description}),o.entity.properties.map((t=>{const r=["msg","notSet"],n=null==i?void 0:i[t.name];switch(t.type){case"boolean":case"number":case"string":r.push(t.type)}return(0,e.jsxs)("div",{children:[(0,e.jsx)(a,{children:t.name}),(0,e.jsx)(s,{types:r,expression:n,onChange:(e,r)=>((e,t,r)=>{const n=(()=>{const e=o.options.propValues[o.matchField]||{};return Object.keys(e).reduce(((t,o)=>(t[o]=e[o],t)),{})})();n[e.name]=t,c(n),o.options.callbacks.setProp(o.matchField,n)})(t,e)})]},t.name)}))]})},a=(0,o.styled)("div",{fontWeight:"bold"}),c={name:"createEntity",version:"0.8",inputs:[{name:"_"}],outputs:["_"],style:{fill:"#ff9951",stroke:"#999999"},editSection:o=>()=>{if(!o.callbacks.entity)throw new Error("createEntity can not be used without entities");const[n,s]=(0,t.useState)(o.propValues.entity);return(0,e.jsxs)("div",{children:[(0,e.jsx)(r,{options:o,value:null==n?void 0:n.name,onChange:async e=>{o.callbacks.loading(!0);const t=await o.callbacks.entity.get(e);o.callbacks.loading(!1),s(t),o.callbacks.setProp("entity",t)}}),n&&(0,e.jsx)(i,{options:o,matchField:"values",entity:n,name:"Entity Fields",description:"Fields of Entity to set"})]})}}})(),s})()));